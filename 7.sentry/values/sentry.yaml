# Usuário inicial do Sentry
user:
  create: true
  email: admin@sentry.local
  password: "admin123"          # troque depois
  isSuperuser: true


# Banco e Redis "embutidos" (bons para laboratório local)
postgresql:
  enabled: true
  auth:
    username: sentry
    password: sentry
    database: sentry

redis:
  enabled: true


# Ingress
ingress:
  enabled: true
  # garanta que a classe é 'nginx'; se seu cluster tiver outra, ajuste
  ingressClassName: nginx
  hosts:
    - host: sentry.app.127.0.0.1.sslip.io
      paths:
        - path: /
          pathType: Prefix

  # --- OPÇÃO 1: com TLS (comente a linha acima e descomente abaixo
  # após criar o secret 'sentry-tls' com mkcert) ---
  tls:
    - secretName: sentry-tls
      hosts:
        - sentry.app.127.0.0.1.sslip.io

  # --- OPÇÃO 2: sem TLS (HTTP) ---
  # tls: []


# Para ambiente local, reduzir réplicas ajuda a subir rápido
sentry:
  web:
    replicaCount: 1
  worker:
    replicaCount: 1
  cron:
    replicaCount: 1


# Snuba / Kafka / ClickHouse também são provisionados pelo chart.
# Para dev local, as configs padrão costumam bastar.
# YAML
